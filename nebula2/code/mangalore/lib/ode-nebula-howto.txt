Nebula requires a change to ODE. The function dGeomTriMeshGetOpcodeModel needs to be added.

Change #1: Forward declaration
------------------------------
In include\ode\collision_trimesh.h, change:

#ifdef __cplusplus
extern "C" {
#endif

to:

#ifdef __cplusplus
extern "C" {
#endif

namespace Opcode { class Model; }


Change #2: Function declaration
-------------------------------
In include\ode\collision_trimesh.h, change:

ODE_API void dGeomTriMeshDataUpdate(dTriMeshDataID g);

to:

ODE_API void dGeomTriMeshDataUpdate(dTriMeshDataID g);
ODE_API Opcode::Model* dGeomTriMeshGetOpcodeModel(dGeomID g);


Change #3: Function definition
------------------------------
In ode\src\collision_trimesh.cpp, add this function to the bottom of the file:

Opcode::Model* dGeomTriMeshGetOpcodeModel(dGeomID g)
{
    dxTriMesh* Geom = (dxTriMesh*)g;
    return &Geom->Data->BVTree;
}
